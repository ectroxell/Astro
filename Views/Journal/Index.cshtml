@using Microsoft.AspNetCore.Identity
@model IList<Journal>
@inject UserManager<AppUser> UserManager

@if (Model.Count > 0)
{
    AppUser user = await UserManager.GetUserAsync(User);
    <div class="jumbotron bg-pink-clouds">
        <h3 class="text-white">Your moon journal</h3>
        <hr class="hr-white" />
        <p class="lead text-white">Entries for @user.Name</p>

    </div>

    <table class="table-hover">
        <thead>
            <tr>
                <th scope="col">Date</th>
                <th scope="col">Moon Phase</th>
                <th scope="col">Journal</th>
            </tr>
        </thead>
        <tbody>
            @foreach (Journal journal in Model)
            {
                <tr>
                    <td>@journal.Date.ToShortDateString();</td>
                    <td>@journal.MoonPhase.Name</td>
                    <td>@journal.JournalText</td>
                </tr>
            }
        </tbody>

    </table>

}
else
{
    <div class="jumbotron bg-pink-clouds">
        <h3 class="text-white">You don't have any journal entries yet!</h3>
        <hr class="hr-white" />
        <p class="lead">Click <a asp-controller="Journal" asp-action="Add">here</a> to make one.</p>
    </div>
}
